<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Hub</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>‚öôÔ∏è</text></svg>">
    
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #94a3b8;
            --text-light: #f1f5f9;
            --accent: #38bdf8;
            --accent-glow: rgba(56, 189, 248, 0.15);
            --hover: #334155;
            --border: #334155;
            --radius: 12px;
        }

        html[data-theme="light"] {
            --bg: #f8fafc;
            --card: #f1f5f9;
            --text: #475569;
            --text-light: #0f172a;
            --accent: #0284c7;
            --accent-glow: rgba(2, 132, 199, 0.15);
            --hover: #e2e8f0;
            --border: #cbd5e1;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 40px;
            overflow-y: scroll;
            transition: background 0.3s, color 0.3s;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 10px;
            flex-wrap: wrap;
            gap: 20px;
        }

        h1 {
            margin: 0;
            font-weight: 700;
            font-size: 1.8rem;
            color: var(--text-light);
            letter-spacing: -0.5px;
            background: linear-gradient(to right, #b1a4a4, #94a3b8);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-controls {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .theme-toggle, .stats-btn {
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text-light);
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .theme-toggle:hover, .stats-btn:hover {
            border-color: var(--accent);
            background: var(--hover);
            transform: translateY(-1px);
        }

        #search {
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text-light);
            padding: 14px 24px;
            border-radius: 50px;
            width: 350px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        #search:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        .filter-section {
            max-width: 1600px;
            margin: 0 auto 24px;
            padding: 0 10px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-btn {
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: var(--accent);
            color: var(--text-light);
            background: var(--hover);
        }

        .filter-btn.active {
            background: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }

        .filter-label {
            font-size: 12px;
            text-transform: uppercase;
            color: #64748b;
            font-weight: 600;
            letter-spacing: 0.5px;
            margin-right: 8px;
        }

        .stats-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .stats-modal.show { display: flex; }

        .stats-content {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        .stats-content h2 {
            margin-top: 0;
            color: var(--text-light);
        }

        .close-btn {
            float: right;
            font-size: 24px;
            font-weight: bold;
            color: var(--text);
            cursor: pointer;
            line-height: 1;
        }

        .close-btn:hover { color: var(--text-light); }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
        }

        .stat-item:last-child { border-bottom: none; }

        .grid {
            column-count: 5;
            column-gap: 24px;
            max-width: 1600px;
            margin: 0 auto;
        }

        @media (max-width: 1600px) { .grid { column-count: 4; } }
        @media (max-width: 1200px) { .grid { column-count: 3; } }
        @media (max-width: 900px) { .grid { column-count: 2; } }
        @media (max-width: 600px) { .grid { column-count: 1; } }

        .category {
            background: var(--card);
            border-radius: var(--radius);
            padding: 24px;
            border: 1px solid var(--border);
            break-inside: avoid;
            margin-bottom: 24px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
        }

        .category:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
            border-color: #475569;
        }

        .category::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .category:hover::before { opacity: 1; }

        .category h2 {
            margin: 0 0 18px 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .link-list {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .link-item {
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }

        a {
            text-decoration: none;
            color: var(--text);
            font-size: 0.9rem;
            padding: 6px 10px;
            border-radius: 6px;
            transition: all 0.2s;
            display: flex;
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
        }

        a:hover {
            color: var(--text-light);
            background: var(--hover);
            padding-left: 14px;
        }

        .favorite-btn {
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            font-size: 14px;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .favorite-btn:hover {
            color: var(--accent);
            background: var(--hover);
        }

        .favorite-btn.favorited {
            color: #fbbf24;
        }

        .link-count {
            font-size: 11px;
            color: #64748b;
            padding: 2px 6px;
            background: rgba(100, 116, 139, 0.2);
            border-radius: 3px;
            margin-left: 4px;
            flex-shrink: 0;
        }

        .sub-header {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: #64748b;
            margin: 16px 0 6px 0;
            font-weight: 700;
            padding-left: 10px;
        }

        .link-list .sub-header:first-of-type { margin-top: 4px; }

        .highlight {
            background: var(--accent-glow);
            color: var(--accent);
            font-weight: 600;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--text);
            max-width: 1600px;
            margin: 0 auto;
        }

        .recent-section {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 24px;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }

        .recent-section h3 {
            margin: 0 0 12px 0;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .recent-links {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .recent-link {
            background: var(--hover);
            color: var(--text);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border);
        }

        .recent-link:hover {
            color: var(--text-light);
            border-color: var(--accent);
            background: var(--accent);
            color: var(--bg);
        }

        .settings-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .settings-modal.show { display: flex; }

        .settings-content {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 32px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        .settings-content h2 {
            margin-top: 0;
            color: var(--text-light);
        }

        .setting-group {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--hover);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .setting-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-light);
            font-size: 14px;
        }

        .setting-group input[type="color"],
        .setting-group input[type="text"],
        .setting-group select {
            width: 100%;
            padding: 8px;
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text-light);
            border-radius: 6px;
            font-family: inherit;
            box-sizing: border-box;
        }

        .setting-group input[type="color"] {
            width: 60px;
            cursor: pointer;
            height: 40px;
        }

        .color-preview {
            display: inline-block;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            margin-left: 10px;
            border: 1px solid var(--border);
            vertical-align: middle;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .tab-btn {
            background: none;
            border: none;
            color: var(--text);
            padding: 10px 16px;
            cursor: pointer;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            color: var(--text-light);
        }

        .tab-btn.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }

        .btn-group button {
            flex: 1;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-save {
            background: var(--accent);
            color: var(--bg);
        }

        .btn-save:hover {
            opacity: 0.9;
        }

        .btn-reset {
            background: var(--border);
            color: var(--text-light);
        }

        .btn-reset:hover {
            background: #475569;
        }

        .danger-zone {
            background: rgba(220, 38, 38, 0.1) !important;
            border-color: #991b1b !important;
        }

        .btn-danger {
            background: #991b1b;
            color: white;
        }

        .btn-danger:hover {
            background: #7f1d1d;
        }

        .settings-btn {
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--text-light);
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .settings-btn:hover {
            border-color: var(--accent);
            background: var(--hover);
            transform: translateY(-1px);
        }

        .edit-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: var(--bg);
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            z-index: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(56, 189, 248, 0.3);
        }

        .edit-mode-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(56, 189, 248, 0.5);
        }

        .edit-mode-toggle.active {
            background: #dc2626;
        }

        .edit-controls {
            display: none;
            position: absolute;
            top: 10px;
            right: 10px;
            gap: 6px;
            z-index: 10;
        }

        .edit-mode .edit-controls {
            display: flex;
        }

        .edit-btn, .delete-btn, .add-btn {
            background: var(--accent);
            color: var(--bg);
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .delete-btn {
            background: #dc2626;
        }

        .delete-btn:hover {
            background: #991b1b;
        }

        .edit-btn:hover, .add-btn:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }

        .category.edit-mode-active {
            border: 2px dashed var(--accent);
            position: relative;
        }

        .category.edit-mode-active::after {
            content: '‚úèÔ∏è EDIT MODE';
            position: absolute;
            top: 5px;
            left: 10px;
            font-size: 10px;
            font-weight: 700;
            color: var(--accent);
            text-transform: uppercase;
        }

        .link-item.edit-mode-active {
            background: rgba(56, 189, 248, 0.1);
            padding: 8px;
            border-radius: 6px;
            margin-bottom: 4px;
        }

        .edit-input {
            background: var(--hover);
            border: 1px solid var(--accent);
            color: var(--text-light);
            padding: 6px;
            border-radius: 4px;
            font-family: inherit;
            font-size: 0.9rem;
        }

        .edit-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--accent-glow);
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-box {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        .modal-box h3 {
            margin-top: 0;
            color: var(--text-light);
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-light);
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            background: var(--hover);
            border: 1px solid var(--border);
            color: var(--text-light);
            border-radius: 6px;
            font-family: inherit;
            box-sizing: border-box;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px var(--accent-glow);
        }

        .form-buttons {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }

        .form-buttons button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--bg);
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        .btn-secondary {
            background: var(--border);
            color: var(--text-light);
        }

        .btn-secondary:hover {
            background: #475569;
        }

        .edit-toolbar {
            display: none;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 24px;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .edit-mode .edit-toolbar {
            display: flex;
        }

        .edit-toolbar button {
            background: var(--accent);
            color: var(--bg);
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 13px;
            transition: all 0.2s;
        }

        .edit-toolbar button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .subheader-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 4px 10px;
        }

        .subheader-item .subheader-controls {
            display: none;
            gap: 4px;
        }

        .edit-mode .subheader-item:hover .subheader-controls {
            display: flex;
        }

        .subheader-controls button {
            background: #fbbf24;
            color: #000;
            border: none;
            padding: 2px 6px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.2s;
        }

        .subheader-controls button:hover {
            opacity: 0.8;
        }

        .link-item {
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }

        .link-item:hover .link-edit-controls {
            display: flex !important;
        }

        /* Dropdown styles */
        .dropdown-wrapper {
            position: relative;
            width: 100%;
        }

        .dropdown-input {
            width: 100%;
            padding: 8px;
            background: var(--hover);
            border: 1px solid var(--border);
            color: var(--text-light);
            border-radius: 6px;
            font-family: inherit;
            box-sizing: border-box;
        }

        .dropdown-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 2px var(--accent-glow);
        }

        .dropdown-list {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 6px 6px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .dropdown-list.show {
            display: block;
        }

        .dropdown-item {
            padding: 8px 12px;
            cursor: pointer;
            color: var(--text);
            transition: all 0.2s;
            border-bottom: 1px solid var(--border);
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: var(--hover);
            color: var(--text-light);
            padding-left: 16px;
        }

        .dropdown-item.selected {
            background: var(--accent);
            color: var(--bg);
        }

    </style>
</head>
<body>
    <div class="header">
        <h1>My Hub</h1>
        <div class="header-controls">
            <button class="theme-toggle" onclick="toggleTheme()">üåô Dark</button>
            <button class="stats-btn" onclick="showStats()">üìä Stats</button>
            <button class="settings-btn" onclick="showSettings()">‚öôÔ∏è Settings</button>
        </div>
        <input type="text" id="search" placeholder="Type to find link..." onkeyup="filter()">
    </div>

    <div class="filter-section">
        <span class="filter-label">Filter by category:</span>
        <button class="filter-btn active" onclick="filterByCategory(this, 'all')">All</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Daily')">‚ö° Daily</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'AI Chat')">üß† AI Chat</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'AI Visuals')">üé® Visuals</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Media')">üé¨ Media</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Dev')">üíª Dev</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Gaming')">üéÆ Gaming</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Utilities')">üõ†Ô∏è Utilities</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Shopping')">üõí Shopping</button>
        <button class="filter-btn" onclick="filterByCategory(this, 'Official')">üíº Official</button>
        <button class="filter-btn" onclick="toggleFavoritesOnly()">‚≠ê Favorites</button>
    </div>

    <div class="recent-section" id="recentSection" style="display: none;">
        <h3>üìå Recently Visited</h3>
        <div class="recent-links" id="recentLinks"></div>
    </div>

    <div class="stats-modal" id="statsModal">
        <div class="stats-content">
            <span class="close-btn" onclick="closeStats()">&times;</span>
            <h2>üìä Statistics</h2>
            <div id="statsBody"></div>
            <button onclick="clearStats()" style="margin-top: 20px; padding: 10px 16px; background: var(--accent); color: var(--bg); border: none; border-radius: 6px; cursor: pointer;">Clear All Stats</button>
        </div>
    </div>

    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <span class="close-btn" onclick="closeSettings()">&times;</span>
            <h2>‚öôÔ∏è Customization Settings</h2>
            
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('appearance')">Appearance</button>
                <button class="tab-btn" onclick="switchTab('layout')">Layout</button>
                <button class="tab-btn" onclick="switchTab('advanced')">Advanced</button>
            </div>

            <div id="appearance" class="tab-content active">
                <div class="setting-group">
                    <label>Accent Color</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="color" id="accentColor">
                        <div class="color-preview" id="accentPreview"></div>
                    </div>
                </div>
                <div class="setting-group">
                    <label>Card Background</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="color" id="cardColor">
                        <div class="color-preview" id="cardPreview"></div>
                    </div>
                </div>
                <div class="setting-group">
                    <label>Text Color</label>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="color" id="textColor">
                        <div class="color-preview" id="textPreview"></div>
                    </div>
                </div>
                <div class="setting-group">
                    <label>Border Radius (e.g., 12px, 8px, 0px)</label>
                    <input type="text" id="borderRadius" placeholder="12px">
                </div>
            </div>

            <div id="layout" class="tab-content">
                <div class="setting-group">
                    <label>Default Column Count</label>
                    <select id="columnCount">
                        <option value="5">5 Columns (Default)</option>
                        <option value="4">4 Columns</option>
                        <option value="3">3 Columns</option>
                        <option value="2">2 Columns</option>
                        <option value="1">1 Column (Full Width)</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Column Gap (pixels)</label>
                    <input type="text" id="columnGap" placeholder="24">
                </div>
                <div class="setting-group">
                    <label>Padding (pixels)</label>
                    <input type="text" id="padding" placeholder="40">
                </div>
            </div>

            <div id="advanced" class="tab-content">
                <div class="setting-group">
                    <label>Page Title</label>
                    <input type="text" id="pageTitle" placeholder="My Hub">
                </div>
                <div class="setting-group">
                    <label>Font Family</label>
                    <input type="text" id="fontFamily" placeholder="Segoe UI, system-ui, -apple-system, sans-serif">
                </div>
                <div class="setting-group">
                    <label>Enable Recent Links Section</label>
                    <select id="enableRecent">
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
                <div class="setting-group danger-zone">
                    <label style="color: #dc2626; font-weight: 700;">‚ö†Ô∏è Danger Zone</label>
                    <button class="btn-danger" onclick="exportSettings()" style="width: 100%; margin-top: 8px;">üì• Export Settings</button>
                    <button class="btn-danger" onclick="importSettings()" style="width: 100%; margin-top: 8px;">üì§ Import Settings</button>
                    <button class="btn-danger" onclick="resetAllSettings()" style="width: 100%; margin-top: 8px;">üîÑ Reset to Default</button>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn-save" onclick="saveSettings()">üíæ Save Settings</button>
                <button class="btn-reset" onclick="closeSettings()">Cancel</button>
            </div>
        </div>
    </div>

    <div class="grid" id="container">
        <div class="category" data-category="Daily">
            <h2>‚ö° Daily</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="https://chatgpt.com/" onclick="trackLink(this)">ChatGPT</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ChatGPT">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.youtube.com/" onclick="trackLink(this)">YouTube</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="YouTube">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.facebook.com/" onclick="trackLink(this)">Facebook</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Facebook">0</span>
                </div>
                <div class="link-item">
                    <a href="https://wa.me/+8801757055473" onclick="trackLink(this)">WhatsApp (Me)</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="WhatsApp (Me)">0</span>
                </div>
                <div class="link-item">
                    <a href="https://mail.tm/en/" onclick="trackLink(this)">Temp Mail</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Temp Mail">0</span>
                </div>
                <div class="link-item">
                    <a href="https://toffeelive.com/en" onclick="trackLink(this)">Toffee TV</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Toffee TV">0</span>
                </div>
                <div class="sub-header">Google Suite</div>
                <div class="link-item">
                    <a href="https://drive.google.com/drive/u/0/home" onclick="trackLink(this)">Drive</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Drive">0</span>
                </div>
                <div class="link-item">
                    <a href="https://docs.google.com/document/u/0/" onclick="trackLink(this)">Docs</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Docs">0</span>
                </div>
                <div class="link-item">
                    <a href="https://docs.google.com/spreadsheets/u/0/" onclick="trackLink(this)">Sheets</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Sheets">0</span>
                </div>
                <div class="link-item">
                    <a href="https://keep.google.com/" onclick="trackLink(this)">Keep</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Keep">0</span>
                </div>
                <div class="link-item">
                    <a href="https://translate.google.com/" onclick="trackLink(this)">Translate</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Translate">0</span>
                </div>
                <div class="link-item">
                    <a href="https://mail.google.com/chat/u/0/#chat/home" onclick="trackLink(this)">Chat</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Chat">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="AI Chat">
            <h2>üß† AI Chat & Text</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="https://gemini.google.com/app" onclick="trackLink(this)">Google Gemini</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Google Gemini">0</span>
                </div>
                <div class="link-item">
                    <a href="https://claude.ai/" onclick="trackLink(this)">Claude</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Claude">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.perplexity.ai/" onclick="trackLink(this)">Perplexity</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Perplexity">0</span>
                </div>
                <div class="link-item">
                    <a href="https://notebooklm.google/" onclick="trackLink(this)">NotebookLM</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="NotebookLM">0</span>
                </div>
                <div class="link-item">
                    <a href="https://poe.com/" onclick="trackLink(this)">Poe</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Poe">0</span>
                </div>
                <div class="link-item">
                    <a href="https://pi.ai/talk" onclick="trackLink(this)">Pi AI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Pi AI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://uncensored.chat/" onclick="trackLink(this)">Uncensored Chat</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Uncensored Chat">0</span>
                </div>
                <div class="link-item">
                    <a href="https://ollama.com/library" onclick="trackLink(this)">Ollama Lib</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Ollama Lib">0</span>
                </div>
                <div class="sub-header">Writing Tools</div>
                <div class="link-item">
                    <a href="https://seowriting.ai/dashboard" onclick="trackLink(this)">SEO Writing</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="SEO Writing">0</span>
                </div>
                <div class="link-item">
                    <a href="https://humbot.ai/" onclick="trackLink(this)">Humbot</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Humbot">0</span>
                </div>
                <div class="link-item">
                    <a href="https://aihumanizer.net/" onclick="trackLink(this)">AI Humanizer</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="AI Humanizer">0</span>
                </div>
                <div class="link-item">
                    <a href="https://wordcounter.net/" onclick="trackLink(this)">WordCounter</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="WordCounter">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.prepostseo.com/paraphrasing-tool" onclick="trackLink(this)">Paraphraser</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Paraphraser">0</span>
                </div>
                <div class="link-item">
                    <a href="https://hemingwayapp.com/" onclick="trackLink(this)">Hemingway</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Hemingway">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="AI Visuals">
            <h2>üé® AI Visuals</h2>
            <div class="link-list">
                <div class="sub-header">Image Gen</div>
                <div class="link-item">
                    <a href="https://leonardo.ai/" onclick="trackLink(this)">Leonardo AI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Leonardo AI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://ideogram.ai/t/explore" onclick="trackLink(this)">Ideogram</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Ideogram">0</span>
                </div>
                <div class="link-item">
                    <a href="https://firefly.adobe.com/" onclick="trackLink(this)">Adobe Firefly</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Adobe Firefly">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.bing.com/images/create" onclick="trackLink(this)">Bing Create</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Bing Create">0</span>
                </div>
                <div class="link-item">
                    <a href="https://playgroundai.com/" onclick="trackLink(this)">Playground AI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Playground AI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://clipdrop.co/" onclick="trackLink(this)">ClipDrop</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ClipDrop">0</span>
                </div>
                <div class="link-item">
                    <a href="https://perchance.org/ai-text-to-image-generator" onclick="trackLink(this)">Perchance (Free)</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Perchance (Free)">0</span>
                </div>
                <div class="sub-header">Video & Motion</div>
                <div class="link-item">
                    <a href="https://runwayml.com/" onclick="trackLink(this)">RunwayML</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="RunwayML">0</span>
                </div>
                <div class="link-item">
                    <a href="https://lumalabs.ai/dream-machine" onclick="trackLink(this)">Luma Dream</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Luma Dream">0</span>
                </div>
                <div class="link-item">
                    <a href="https://pixverse.ai/" onclick="trackLink(this)">PixVerse</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="PixVerse">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.klingai.com/" onclick="trackLink(this)">Kling AI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Kling AI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://viggle.ai/" onclick="trackLink(this)">Viggle</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Viggle">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.d-id.com/" onclick="trackLink(this)">D-ID</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="D-ID">0</span>
                </div>
                <div class="sub-header">Audio</div>
                <div class="link-item">
                    <a href="https://elevenlabs.io/" onclick="trackLink(this)">ElevenLabs</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ElevenLabs">0</span>
                </div>
                <div class="link-item">
                    <a href="https://ttsmaker.com/" onclick="trackLink(this)">TTSMaker</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="TTSMaker">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Media">
            <h2>üé¨ Media & Anime</h2>
            <div class="link-list">
                <div class="sub-header">Portals</div>
                <div class="link-item">
                    <a href="https://hianime.to/home" onclick="trackLink(this)">HiAnime</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="HiAnime">0</span>
                </div>
                <div class="link-item">
                    <a href="https://aniwatchtv.to/home" onclick="trackLink(this)">AniWatch</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="AniWatch">0</span>
                </div>
                <div class="link-item">
                    <a href="https://9animetv.to/home" onclick="trackLink(this)">9Anime</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="9Anime">0</span>
                </div>
                <div class="link-item">
                    <a href="https://animixstream.com/" onclick="trackLink(this)">AnimixStream</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="AnimixStream">0</span>
                </div>
                <div class="link-item">
                    <a href="https://myanimelist.net/" onclick="trackLink(this)">MyAnimeList</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="MyAnimeList">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.imdb.com/" onclick="trackLink(this)">IMDb</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="IMDb">0</span>
                </div>
                <div class="sub-header">Downloaders</div>
                <div class="link-item">
                    <a href="https://snapsave.app/" onclick="trackLink(this)">SnapSave</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="SnapSave">0</span>
                </div>
                <div class="link-item">
                    <a href="https://savexr.com/" onclick="trackLink(this)">SaveXR</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="SaveXR">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.teraboxfast.com/" onclick="trackLink(this)">TeraboxFast</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="TeraboxFast">0</span>
                </div>
                <div class="link-item">
                    <a href="https://cobalt.tools/" onclick="trackLink(this)">Cobalt (Best)</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Cobalt (Best)">0</span>
                </div>
                <div class="sub-header">Torrents</div>
                <div class="link-item">
                    <a href="https://www2.thepiratebay3.co/" onclick="trackLink(this)">Pirate Bay</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Pirate Bay">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.limetorrents.fun/home" onclick="trackLink(this)">LimeTorrents</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="LimeTorrents">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Dev">
            <h2>üíª Dev & Code</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="https://github.com/" onclick="trackLink(this)">GitHub</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="GitHub">0</span>
                </div>
                <div class="link-item">
                    <a href="https://vercel.com/" onclick="trackLink(this)">Vercel</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Vercel">0</span>
                </div>
                <div class="link-item">
                    <a href="https://onecompiler.com/" onclick="trackLink(this)">OneCompiler</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="OneCompiler">0</span>
                </div>
                <div class="link-item">
                    <a href="https://replit.com/" onclick="trackLink(this)">Replit</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Replit">0</span>
                </div>
                <div class="link-item">
                    <a href="https://stackoverflow.com/" onclick="trackLink(this)">StackOverflow</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="StackOverflow">0</span>
                </div>
                <div class="sub-header">Python</div>
                <div class="link-item">
                    <a href="https://www.w3schools.com/python/" onclick="trackLink(this)">W3Schools Py</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="W3Schools Py">0</span>
                </div>
                <div class="link-item">
                    <a href="https://codingbat.com/python" onclick="trackLink(this)">CodingBat</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="CodingBat">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.kaggle.com/" onclick="trackLink(this)">Kaggle</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Kaggle">0</span>
                </div>
                <div class="sub-header">Design & UI</div>
                <div class="link-item">
                    <a href="https://www.figma.com/" onclick="trackLink(this)">Figma</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Figma">0</span>
                </div>
                <div class="link-item">
                    <a href="https://uiverse.io/" onclick="trackLink(this)">UIverse</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="UIverse">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.flaticon.com/" onclick="trackLink(this)">Flaticon</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Flaticon">0</span>
                </div>
                <div class="link-item">
                    <a href="https://gooyaabitemplates.com/" onclick="trackLink(this)">Blogger Temps</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Blogger Temps">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Gaming">
            <h2>üéÆ Gaming</h2>
            <div class="link-list">
                <div class="sub-header">Repacks</div>
                <div class="link-item">
                    <a href="https://fitgirl-repacks.site/" onclick="trackLink(this)">FitGirl</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="FitGirl">0</span>
                </div>
                <div class="link-item">
                    <a href="https://dodi-repacks.site/" onclick="trackLink(this)">DODI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="DODI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.apunkagames.com/" onclick="trackLink(this)">ApunKaGames</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ApunKaGames">0</span>
                </div>
                <div class="link-item">
                    <a href="https://filecr.com/" onclick="trackLink(this)">FileCR</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="FileCR">0</span>
                </div>
                <div class="sub-header">Web Games</div>
                <div class="link-item">
                    <a href="https://poki.com/" onclick="trackLink(this)">Poki</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Poki">0</span>
                </div>
                <div class="link-item">
                    <a href="https://shellshock.io/" onclick="trackLink(this)">Shell Shockers</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Shell Shockers">0</span>
                </div>
                <div class="link-item">
                    <a href="https://itch.io/" onclick="trackLink(this)">Itch.io</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Itch.io">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.emugames.net/" onclick="trackLink(this)">EmuGames</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="EmuGames">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Utilities">
            <h2>üõ†Ô∏è Utilities</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="https://tinywow.com/" onclick="trackLink(this)">TinyWow</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="TinyWow">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.remove.bg/" onclick="trackLink(this)">Remove.bg</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Remove.bg">0</span>
                </div>
                <div class="link-item">
                    <a href="https://vectorizer.ai/" onclick="trackLink(this)">Vectorizer.AI</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Vectorizer.AI">0</span>
                </div>
                <div class="link-item">
                    <a href="https://imgupscaler.ai/" onclick="trackLink(this)">ImgUpscaler</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ImgUpscaler">0</span>
                </div>
                <div class="link-item">
                    <a href="https://vocalremover.org/" onclick="trackLink(this)">Vocal Remover</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Vocal Remover">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.virustotal.com/" onclick="trackLink(this)">VirusTotal</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="VirusTotal">0</span>
                </div>
                <div class="link-item">
                    <a href="https://smallpdf.com/" onclick="trackLink(this)">SmallPDF</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="SmallPDF">0</span>
                </div>
                <div class="link-item">
                    <a href="https://imagecolorpicker.com/" onclick="trackLink(this)">Color Picker</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Color Picker">0</span>
                </div>
                <div class="link-item">
                    <a href="https://temp-mail.org/" onclick="trackLink(this)">Temp Mail</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Temp Mail">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Shopping">
            <h2>üõí Shopping BD</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="https://daraz.com.bd/" onclick="trackLink(this)">Daraz</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Daraz">0</span>
                </div>
                <div class="link-item">
                    <a href="https://foodpanda.com.bd/" onclick="trackLink(this)">FoodPanda</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="FoodPanda">0</span>
                </div>
                <div class="link-item">
                    <a href="https://startech.com.bd/" onclick="trackLink(this)">Star Tech</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Star Tech">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.mi.com/bd/" onclick="trackLink(this)">Xiaomi BD</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Xiaomi BD">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.samsung.com/bd/" onclick="trackLink(this)">Samsung BD</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Samsung BD">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.realme.com/bd/" onclick="trackLink(this)">Realme BD</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Realme BD">0</span>
                </div>
                <div class="link-item">
                    <a href="https://www.vivo.com/bd" onclick="trackLink(this)">Vivo BD</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Vivo BD">0</span>
                </div>
            </div>
        </div>

        <div class="category" data-category="Official">
            <h2>üíº Official</h2>
            <div class="link-list">
                <div class="link-item">
                    <a href="http://www.educationboardresults.gov.bd/" onclick="trackLink(this)">Edu Results</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Edu Results">0</span>
                </div>
                <div class="link-item">
                    <a href="https://btebresultszone.com/" onclick="trackLink(this)">BTEB Results</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="BTEB Results">0</span>
                </div>
                <div class="link-item">
                    <a href="https://services1.passportindia.gov.in/" onclick="trackLink(this)">Passport India</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="Passport India">0</span>
                </div>
                <div class="link-item">
                    <a href="https://customer.nesco.gov.bd/" onclick="trackLink(this)">NESCO Bill</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="NESCO Bill">0</span>
                </div>
                <div class="link-item">
                    <a href="https://oes.onpassive.com/auth" onclick="trackLink(this)">ONPASSIVE</a>
                    <button class="favorite-btn" onclick="toggleFavorite(this)">‚òÜ</button>
                    <span class="link-count" data-link="ONPASSIVE">0</span>
                </div>
            </div>
        </div>
    </div>

    <div class="edit-toolbar">
        <span style="color: var(--text-light); font-weight: 600;">üìù Edit Mode Active</span>
        <button onclick="addNewColumn()">‚ûï Add Column</button>
        <button onclick="addLinkToColumn()">üîó Add Link</button>
        <button onclick="addNewSubheader()">üìå Add Subheader</button>
        <button onclick="saveAllEdits()" style="background: #10b981;">‚úÖ Save All Changes</button>
    </div>

    <!-- Add Subheader Modal -->
    <div class="modal-overlay" id="addSubheaderModal">
        <div class="modal-box">
            <h3>‚ûï Add Subheader</h3>
            <div class="form-group">
                <label>Column Name</label>
                <div class="dropdown-wrapper">
                    <input type="text" id="subheaderColumn" placeholder="Select column" class="dropdown-input" autocomplete="off">
                    <div class="dropdown-list" id="subheaderColumnList"></div>
                </div>
            </div>
            <div class="form-group">
                <label>Subheader Text</label>
                <input type="text" id="subheaderText" placeholder="e.g., Popular Links" autocomplete="off">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmAddSubheader()">Add Subheader</button>
                <button class="btn-secondary" onclick="closeModal('addSubheaderModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Link Modal -->
    <div class="modal-overlay" id="addLinkModal">
        <div class="modal-box">
            <h3>üîó Add New Link</h3>
            <div class="form-group">
                <label>Column Name</label>
                <div class="dropdown-wrapper">
                    <input type="text" id="linkColumnSelect" placeholder="Select column" class="dropdown-input" autocomplete="off">
                    <div class="dropdown-list" id="linkColumnList"></div>
                </div>
            </div>
            <div class="form-group">
                <label>Link Title</label>
                <input type="text" id="linkTitle" placeholder="e.g., GitHub" autocomplete="off">
            </div>
            <div class="form-group">
                <label>Link URL</label>
                <input type="text" id="linkUrl" placeholder="https://example.com" autocomplete="off">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmAddLink()">Add Link</button>
                <button class="btn-secondary" onclick="closeModal('addLinkModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Column Modal -->
    <div class="modal-overlay" id="addColumnModal">
        <div class="modal-box">
            <h3>‚ûï Add New Column</h3>
            <div class="form-group">
                <label>Column Name</label>
                <input type="text" id="columnName" placeholder="e.g., My Tools">
            </div>
            <div class="form-group">
                <label>Column Icon (Emoji)</label>
                <input type="text" id="columnIcon" placeholder="e.g., üõ†Ô∏è" maxlength="3">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmAddColumn()">Create Column</button>
                <button class="btn-secondary" onclick="closeModal('addColumnModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Link Modal -->
    <div class="modal-overlay" id="editLinkModal">
        <div class="modal-box">
            <h3>‚úèÔ∏è Edit Link</h3>
            <div class="form-group">
                <label>Link Title</label>
                <input type="text" id="editLinkTitle" autocomplete="off">
            </div>
            <div class="form-group">
                <label>Link URL</label>
                <input type="text" id="editLinkUrl" autocomplete="off">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmEditLink()">Save Link</button>
                <button class="btn-secondary" onclick="closeModal('editLinkModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Subheader Modal -->
    <div class="modal-overlay" id="editSubheaderModal">
        <div class="modal-box">
            <h3>‚úèÔ∏è Edit Subheader</h3>
            <div class="form-group">
                <label>Subheader Text</label>
                <input type="text" id="editSubheaderText" autocomplete="off">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmEditSubheader()">Save Subheader</button>
                <button class="btn-secondary" onclick="closeModal('editSubheaderModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Edit Column Modal -->
    <div class="modal-overlay" id="editColumnModal">
        <div class="modal-box">
            <h3>‚úèÔ∏è Edit Column</h3>
            <div class="form-group">
                <label>Column Name</label>
                <input type="text" id="editColumnName">
            </div>
            <div class="form-group">
                <label>Column Icon (Emoji)</label>
                <input type="text" id="editColumnIcon" maxlength="3">
            </div>
            <div class="form-buttons">
                <button class="btn-primary" onclick="confirmEditColumn()">Save Column</button>
                <button class="btn-secondary" onclick="closeModal('editColumnModal')">Cancel</button>
            </div>
        </div>
    </div>

    <button class="edit-mode-toggle" onclick="toggleEditMode()" id="editModeBtn">‚úèÔ∏è Edit</button>

    <script>
        // Initialize
        loadFavorites();
        updateRecentLinks();
        initTheme();
        updateCounts();

        // Theme Management
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.getAttribute('data-theme') !== 'light';
            html.setAttribute('data-theme', isDark ? 'light' : 'dark');
            localStorage.setItem('theme', isDark ? 'light' : 'dark');
            document.querySelector('.theme-toggle').textContent = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
        }

        function initTheme() {
            const theme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
            document.querySelector('.theme-toggle').textContent = theme === 'light' ? '‚òÄÔ∏è Light' : 'üåô Dark';
        }

        // Favorites Management
        function toggleFavorite(btn) {
            btn.classList.toggle('favorited');
            btn.textContent = btn.classList.contains('favorited') ? '‚òÖ' : '‚òÜ';
            saveFavorites();
        }

        function saveFavorites() {
            const favs = Array.from(document.querySelectorAll('.favorite-btn.favorited')).map(btn => 
                btn.parentElement.querySelector('a').textContent
            );
            localStorage.setItem('favorites', JSON.stringify(favs));
        }

        function loadFavorites() {
            const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                const linkName = btn.parentElement.querySelector('a').textContent;
                if (favs.includes(linkName)) {
                    btn.classList.add('favorited');
                    btn.textContent = '‚òÖ';
                }
            });
        }

        // Link Tracking
        function trackLink(link) {
            if (editMode) return; // Don't track in edit mode
            
            const name = link.textContent;
            const stats = JSON.parse(localStorage.getItem('linkStats') || '{}');
            stats[name] = (stats[name] || 0) + 1;
            localStorage.setItem('linkStats', JSON.stringify(stats));
            
            let recent = JSON.parse(localStorage.getItem('recentLinks') || '[]');
            recent = recent.filter(l => l !== name);
            recent.unshift(name);
            recent = recent.slice(0, 8);
            localStorage.setItem('recentLinks', JSON.stringify(recent));
            
            updateRecentLinks();
            updateCounts();
            
            // Allow the link to navigate naturally
            return true;
        }

        function updateCounts() {
            const stats = JSON.parse(localStorage.getItem('linkStats') || '{}');
            document.querySelectorAll('.link-count').forEach(span => {
                const name = span.getAttribute('data-link');
                span.textContent = stats[name] || '0';
            });
        }

        function updateRecentLinks() {
            const recent = JSON.parse(localStorage.getItem('recentLinks') || '[]');
            const container = document.getElementById('recentLinks');
            container.innerHTML = '';
            
            if (recent.length > 0) {
                document.getElementById('recentSection').style.display = 'block';
                recent.forEach(name => {
                    const btn = document.createElement('div');
                    btn.className = 'recent-link';
                    btn.textContent = name;
                    btn.onclick = () => {
                        const link = Array.from(document.querySelectorAll('a')).find(a => a.textContent === name);
                        if (link) link.click();
                    };
                    container.appendChild(btn);
                });
            } else {
                document.getElementById('recentSection').style.display = 'none';
            }
        }

        // Stats Management
        function showStats() {
            const stats = JSON.parse(localStorage.getItem('linkStats') || '{}');
            const sorted = Object.entries(stats).sort((a, b) => b[1] - a[1]);
            
            let html = '<div class="stat-item"><strong>Link</strong><strong>Visits</strong></div>';
            sorted.forEach(([name, count]) => {
                html += `<div class="stat-item"><span>${name}</span><span>${count}</span></div>`;
            });
            
            if (sorted.length === 0) {
                html = '<p style="color: var(--text); text-align: center;">No link visits yet. Start clicking links to see stats!</p>';
            }
            
            document.getElementById('statsBody').innerHTML = html;
            document.getElementById('statsModal').classList.add('show');
        }

        function closeStats() {
            document.getElementById('statsModal').classList.remove('show');
        }

        function clearStats() {
            if (confirm('Are you sure you want to clear all statistics?')) {
                localStorage.removeItem('linkStats');
                localStorage.removeItem('recentLinks');
                updateCounts();
                updateRecentLinks();
                closeStats();
            }
        }

        // Settings Management
        function showSettings() {
            loadSettingsUI();
            document.getElementById('settingsModal').classList.add('show');
        }

        function closeSettings() {
            document.getElementById('settingsModal').classList.remove('show');
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function loadSettingsUI() {
            const settings = JSON.parse(localStorage.getItem('dashboardSettings') || '{}');
            
            document.getElementById('accentColor').value = settings.accentColor || '#38bdf8';
            document.getElementById('cardColor').value = settings.cardColor || '#1e293b';
            document.getElementById('textColor').value = settings.textColor || '#94a3b8';
            document.getElementById('borderRadius').value = settings.borderRadius || '12px';
            document.getElementById('columnCount').value = settings.columnCount || '5';
            document.getElementById('columnGap').value = settings.columnGap || '24';
            document.getElementById('padding').value = settings.padding || '40';
            document.getElementById('pageTitle').value = settings.pageTitle || 'My Hub';
            document.getElementById('fontFamily').value = settings.fontFamily || 'Segoe UI, system-ui, -apple-system, sans-serif';
            document.getElementById('enableRecent').value = String(settings.enableRecent !== false);
            
            updateColorPreviews();
        }

        function updateColorPreviews() {
            document.getElementById('accentPreview').style.backgroundColor = document.getElementById('accentColor').value;
            document.getElementById('cardPreview').style.backgroundColor = document.getElementById('cardColor').value;
            document.getElementById('textPreview').style.backgroundColor = document.getElementById('textColor').value;
        }

        function saveSettings() {
            const settings = {
                accentColor: document.getElementById('accentColor').value,
                cardColor: document.getElementById('cardColor').value,
                textColor: document.getElementById('textColor').value,
                borderRadius: document.getElementById('borderRadius').value,
                columnCount: document.getElementById('columnCount').value,
                columnGap: document.getElementById('columnGap').value,
                padding: document.getElementById('padding').value,
                pageTitle: document.getElementById('pageTitle').value,
                fontFamily: document.getElementById('fontFamily').value,
                enableRecent: document.getElementById('enableRecent').value === 'true'
            };
            
            localStorage.setItem('dashboardSettings', JSON.stringify(settings));
            applySettings();
            closeSettings();
            alert('‚úÖ Settings saved successfully!');
        }

        function applySettings() {
            const settings = JSON.parse(localStorage.getItem('dashboardSettings') || '{}');
            
            document.documentElement.style.setProperty('--accent', settings.accentColor || '#38bdf8');
            document.documentElement.style.setProperty('--card', settings.cardColor || '#1e293b');
            document.documentElement.style.setProperty('--text', settings.textColor || '#94a3b8');
            document.documentElement.style.setProperty('--radius', settings.borderRadius || '12px');
            
            if (settings.fontFamily) {
                document.body.style.fontFamily = settings.fontFamily;
            }
            
            if (settings.padding) {
                document.body.style.padding = settings.padding + 'px';
            }
            
            const grid = document.querySelector('.grid');
            if (settings.columnCount) {
                grid.style.columnCount = settings.columnCount;
            }
            if (settings.columnGap) {
                grid.style.columnGap = settings.columnGap + 'px';
            }
            
            if (settings.pageTitle) {
                document.querySelector('h1').textContent = settings.pageTitle;
            }
            
            if (settings.enableRecent === false) {
                document.getElementById('recentSection').style.display = 'none';
            }
        }

        function exportSettings() {
            const settings = localStorage.getItem('dashboardSettings') || '{}';
            const stats = localStorage.getItem('linkStats') || '{}';
            const favorites = localStorage.getItem('favorites') || '[]';
            const theme = localStorage.getItem('theme') || 'dark';
            
            const exportData = {
                settings: JSON.parse(settings),
                stats: JSON.parse(stats),
                favorites: JSON.parse(favorites),
                theme: theme,
                exportDate: new Date().toLocaleString()
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `dashboard-backup-${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);
            alert('‚úÖ Settings exported successfully!');
        }

        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = (e) => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const data = JSON.parse(event.target.result);
                        localStorage.setItem('dashboardSettings', JSON.stringify(data.settings || {}));
                        localStorage.setItem('linkStats', JSON.stringify(data.stats || {}));
                        localStorage.setItem('favorites', JSON.stringify(data.favorites || []));
                        localStorage.setItem('theme', data.theme || 'dark');
                        
                        applySettings();
                        loadFavorites();
                        updateCounts();
                        initTheme();
                        closeSettings();
                        alert('‚úÖ Settings imported successfully! Page will refresh.');
                        location.reload();
                    } catch (err) {
                        alert('‚ùå Error importing settings: ' + err.message);
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function resetAllSettings() {
            if (confirm('‚ö†Ô∏è Are you sure? This will reset all settings, stats, and favorites to default.')) {
                localStorage.removeItem('dashboardSettings');
                localStorage.removeItem('linkStats');
                localStorage.removeItem('favorites');
                localStorage.setItem('theme', 'dark');
                
                applySettings();
                loadFavorites();
                updateCounts();
                initTheme();
                closeSettings();
                alert('‚úÖ All settings reset to default. Page will refresh.');
                location.reload();
            }
        }

        // Close modal on outside click
        document.getElementById('statsModal').addEventListener('click', function(e) {
            if (e.target === this) closeStats();
        });
        document.getElementById('settingsModal').addEventListener('click', function(e) {
            if (e.target === this) closeSettings();
        });

        let editMode = false;
        let currentEditLink = null;
        let currentEditColumn = null;
        let currentEditSubheader = null;

        // Load custom data from localStorage on page load
        window.addEventListener('load', () => {
            applySettings();
            loadCustomData();
            makeAllLinksEditable();
        });

        // Enhanced Custom Data Management
        function loadCustomData() {
            const customData = JSON.parse(localStorage.getItem('customDashboard') || '{}');
            
            // First, handle deleted original links
            if (customData.deletedOriginalLinks) {
                customData.deletedOriginalLinks.forEach(linkTitle => {
                    const links = document.querySelectorAll('a');
                    links.forEach(link => {
                        if (link.textContent === linkTitle) {
                            link.closest('.link-item').remove();
                        }
                    });
                });
            }
            
            // Load custom columns
            if (customData.columns) {
                customData.columns.forEach(col => addCustomColumn(col));
            }
            
            // Load modified links (both pre-existing and custom)
            if (customData.modifiedLinks) {
                customData.modifiedLinks.forEach(link => applyLinkModification(link));
            }

            // Load custom subheaders
            if (customData.subheaders) {
                customData.subheaders.forEach(sub => addCustomSubheader(sub));
            }
        }

        function applyLinkModification(linkMod) {
            const category = linkMod.category;
            const originalTitle = linkMod.originalTitle;
            const newTitle = linkMod.title;
            const newUrl = linkMod.url;

            const cat = document.querySelector(`[data-category="${category}"]`);
            if (!cat) return;

            const links = cat.querySelectorAll('a');
            const link = Array.from(links).find(l => l.textContent === originalTitle);
            
            if (link) {
                // Link exists (was edited from original)
                link.textContent = newTitle;
                link.href = newUrl;
                link.dataset.modified = 'true';
                link.dataset.originalTitle = originalTitle;
            } else if (linkMod.isCustom) {
                // This is a custom link that doesn't exist yet - recreate it
                addCustomLink({ title: newTitle, url: newUrl, category: category });
            }
        }

        function saveCustomData() {
            const customData = {
                columns: [],
                modifiedLinks: [],
                deletedOriginalLinks: [],
                subheaders: []
            };

            const originalCategories = ['Daily', 'AI Chat', 'AI Visuals', 'Media', 'Dev', 'Gaming', 'Utilities', 'Shopping', 'Official'];
            const originalLinks = {
                'Daily': ['ChatGPT', 'YouTube', 'Facebook', 'WhatsApp (Me)', 'Temp Mail', 'Toffee TV', 'Drive', 'Docs', 'Sheets', 'Keep', 'Translate', 'Chat'],
                'AI Chat': ['Google Gemini', 'Claude', 'Perplexity', 'NotebookLM', 'Poe', 'Pi AI', 'Uncensored Chat', 'Ollama Lib', 'SEO Writing', 'Humbot', 'AI Humanizer', 'WordCounter', 'Paraphraser', 'Hemingway'],
                'AI Visuals': ['Leonardo AI', 'Ideogram', 'Adobe Firefly', 'Bing Create', 'Playground AI', 'ClipDrop', 'Perchance (Free)', 'RunwayML', 'Luma Dream', 'PixVerse', 'Kling AI', 'Viggle', 'D-ID', 'ElevenLabs', 'TTSMaker'],
                'Media': ['HiAnime', 'AniWatch', '9Anime', 'AnimixStream', 'MyAnimeList', 'IMDb', 'SnapSave', 'SaveXR', 'TeraboxFast', 'Cobalt (Best)', 'Pirate Bay', 'LimeTorrents'],
                'Dev': ['GitHub', 'Vercel', 'OneCompiler', 'Replit', 'StackOverflow', 'W3Schools Py', 'CodingBat', 'Kaggle', 'Figma', 'UIverse', 'Flaticon', 'Blogger Temps'],
                'Gaming': ['FitGirl', 'DODI', 'ApunKaGames', 'FileCR', 'Poki', 'Shell Shockers', 'Itch.io', 'EmuGames'],
                'Utilities': ['TinyWow', 'Remove.bg', 'Vectorizer.AI', 'ImgUpscaler', 'Vocal Remover', 'VirusTotal', 'SmallPDF', 'Color Picker', 'Temp Mail'],
                'Shopping': ['Daraz', 'FoodPanda', 'Star Tech', 'Xiaomi BD', 'Samsung BD', 'Realme BD', 'Vivo BD'],
                'Official': ['Edu Results', 'BTEB Results', 'Passport India', 'NESCO Bill', 'ONPASSIVE']
            };

            // Save custom columns
            document.querySelectorAll('.category').forEach(cat => {
                const catName = cat.getAttribute('data-category');
                if (!originalCategories.includes(catName)) {
                    customData.columns.push({
                        name: catName,
                        icon: cat.querySelector('h2').textContent.split(' ')[0]
                    });
                }
            });

            // Save ALL modified/custom links
            document.querySelectorAll('.link-item').forEach(item => {
                const link = item.querySelector('a');
                const category = link.closest('.category').getAttribute('data-category');
                
                if (link.dataset.modified === 'true' || link.dataset.custom === 'true') {
                    customData.modifiedLinks.push({
                        title: link.textContent,
                        url: link.href,
                        category: category,
                        originalTitle: link.dataset.originalTitle || link.textContent,
                        isCustom: link.dataset.custom === 'true'
                    });
                }
            });

            // Track deleted original links
            for (const [category, links] of Object.entries(originalLinks)) {
                links.forEach(originalTitle => {
                    const found = Array.from(document.querySelectorAll('a')).find(a => a.textContent === originalTitle);
                    if (!found) {
                        customData.deletedOriginalLinks.push(originalTitle);
                    }
                });
            }

            // Save custom subheaders
            document.querySelectorAll('.sub-header').forEach(sub => {
                const category = sub.closest('.category').getAttribute('data-category');
                if (sub.dataset.custom === 'true') {
                    customData.subheaders.push({
                        text: sub.textContent,
                        category: category
                    });
                }
            });

            localStorage.setItem('customDashboard', JSON.stringify(customData));
        }

        function addCustomLink(link) {
            let category = document.querySelector(`[data-category="${link.category}"]`);
            
            if (!category) {
                addCustomColumn({ name: link.category, icon: 'üîó' });
                category = document.querySelector(`[data-category="${link.category}"]`);
            }

            const linkList = category.querySelector('.link-list');
            const item = document.createElement('div');
            item.className = 'link-item';

            const linkEl = document.createElement('a');
            linkEl.href = link.url;
            linkEl.textContent = link.title;
            linkEl.dataset.custom = 'true';
            linkEl.dataset.editable = 'true';
            linkEl.dataset.originalTitle = link.title;

            const favBtn = document.createElement('button');
            favBtn.className = 'favorite-btn';
            favBtn.textContent = '‚òÜ';
            favBtn.type = 'button';
            favBtn.onclick = (e) => { 
                e.stopPropagation(); 
                toggleFavorite(favBtn); 
            };

            const count = document.createElement('span');
            count.className = 'link-count';
            count.setAttribute('data-link', link.title);
            count.textContent = '0';

            item.appendChild(linkEl);
            item.appendChild(favBtn);
            item.appendChild(count);
            linkList.appendChild(item);

            if (editMode) {
                addLinkControls(category);
            }
        }

        // Subheader Management
        function editSubheader(subheader) {
            document.getElementById('editSubheaderText').value = subheader.textContent;
            currentEditSubheader = subheader;
            openModal('editSubheaderModal');
        }

        function confirmEditSubheader() {
            if (!currentEditSubheader) return;

            const newText = document.getElementById('editSubheaderText').value.trim();
            if (!newText) {
                alert('Please enter subheader text');
                return;
            }

            currentEditSubheader.textContent = newText;
            currentEditSubheader.dataset.custom = 'true';
            currentEditSubheader = null;
            closeModal('editSubheaderModal');
        }

        function deleteSubheader(wrapper) {
            if (confirm('Delete this subheader?')) {
                wrapper.remove();
            }
        }

        function confirmAddSubheader() {
            const column = document.getElementById('subheaderColumn').value.trim();
            const text = document.getElementById('subheaderText').value.trim();

            if (!column || !text) {
                alert('Please fill all fields');
                return;
            }

            const categoryExists = document.querySelector(`[data-category="${column}"]`);
            if (!categoryExists) {
                alert('Column does not exist. Please create it first or select from the dropdown.');
                return;
            }

            addCustomSubheader({ text, category: column });
            closeModal('addSubheaderModal');
            document.getElementById('subheaderColumn').value = '';
            document.getElementById('subheaderText').value = '';
        }

        function addCustomSubheader(subheader) {
            const category = document.querySelector(`[data-category="${subheader.category}"]`);
            if (!category) {
                alert('Column not found.');
                return;
            }

            const linkList = category.querySelector('.link-list');
            const sub = document.createElement('div');
            sub.className = 'sub-header';
            sub.textContent = subheader.text;
            sub.dataset.custom = 'true';

            linkList.appendChild(sub);

            if (editMode) {
                addSubheaderControls(category);
            }
        }

        // Column Management
        function confirmAddColumn() {
            const name = document.getElementById('columnName').value.trim();
            const icon = document.getElementById('columnIcon').value.trim() || 'üìå';

            if (!name) {
                alert('Please enter column name');
                return;
            }

            if (document.querySelector(`[data-category="${name}"]`)) {
                alert('Column already exists');
                return;
            }

            addCustomColumn({ name, icon });
            closeModal('addColumnModal');
            document.getElementById('columnName').value = '';
            document.getElementById('columnIcon').value = '';
        }

        function addCustomColumn(col) {
            if (document.querySelector(`[data-category="${col.name}"]`)) {
                return;
            }

            const container = document.getElementById('container');
            const category = document.createElement('div');
            category.className = 'category';
            category.setAttribute('data-category', col.name);

            category.innerHTML = `
                <h2>${col.icon} ${col.name}</h2>
                <div class="link-list"></div>
            `;

            container.appendChild(category);

            if (editMode) {
                category.classList.add('edit-mode-active');
                addCategoryControls(category);
            }
        }

        function editColumn(columnName) {
            const category = document.querySelector(`[data-category="${columnName}"]`);
            const h2 = category.querySelector('h2');
            const parts = h2.textContent.split(' ');
            const icon = parts[0];
            const name = parts.slice(1).join(' ');

            document.getElementById('editColumnName').value = name;
            document.getElementById('editColumnIcon').value = icon;
            currentEditColumn = columnName;
            openModal('editColumnModal');
        }

        function confirmEditColumn() {
            if (!currentEditColumn) return;

            const newName = document.getElementById('editColumnName').value.trim();
            const newIcon = document.getElementById('editColumnIcon').value.trim();

            if (!newName) {
                alert('Please enter column name');
                return;
            }

            const category = document.querySelector(`[data-category="${currentEditColumn}"]`);
            category.setAttribute('data-category', newName);
            category.querySelector('h2').textContent = `${newIcon} ${newName}`;
            currentEditColumn = null;
            closeModal('editColumnModal');
        }

        function deleteColumn(columnName) {
            if (confirm('Delete this column and all its links?')) {
                const cat = document.querySelector(`[data-category="${columnName}"]`);
                if (cat) cat.remove();
            }
        }

        function makeAllLinksEditable() {
            document.querySelectorAll('a').forEach(link => {
                if (!link.dataset.editable) {
                    link.dataset.editable = 'true';
                    // Remove the onclick handler that was preventing navigation
                    link.removeAttribute('onclick');
                }
            });
        }

        function toggleEditMode() {
            editMode = !editMode;
            const btn = document.getElementById('editModeBtn');
            const body = document.body;

            if (editMode) {
                btn.classList.add('active');
                btn.textContent = '‚úèÔ∏è Done';
                body.classList.add('edit-mode');
                document.querySelectorAll('.category').forEach(cat => {
                    cat.classList.add('edit-mode-active');
                    addCategoryControls(cat);
                    addLinkControls(cat);
                    addSubheaderControls(cat);
                });
            } else {
                btn.classList.remove('active');
                btn.textContent = '‚úèÔ∏è Edit';
                body.classList.remove('edit-mode');
                document.querySelectorAll('.category').forEach(cat => {
                    cat.classList.remove('edit-mode-active');
                    cat.querySelectorAll('.edit-controls').forEach(ctrl => ctrl.remove());
                    cat.querySelectorAll('.subheader-item').forEach(item => {
                        const sub = item.querySelector('.sub-header');
                        if (sub) {
                            item.replaceWith(sub);
                        }
                    });
                });
                saveAllEdits();
            }
        }

        function addCategoryControls(category) {
            if (category.querySelector('.category-controls')) return;

            const catName = category.getAttribute('data-category');
            const originalCategories = ['Daily', 'AI Chat', 'AI Visuals', 'Media', 'Dev', 'Gaming', 'Utilities', 'Shopping', 'Official'];
            const isCustom = !originalCategories.includes(catName);

            const controls = document.createElement('div');
            controls.className = 'edit-controls category-controls';

            if (isCustom) {
                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn';
                editBtn.textContent = '‚úèÔ∏è';
                editBtn.type = 'button';
                editBtn.onclick = (e) => { 
                    e.stopPropagation(); 
                    e.preventDefault();
                    editColumn(catName); 
                };
                controls.appendChild(editBtn);

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'üóëÔ∏è';
                deleteBtn.type = 'button';
                deleteBtn.onclick = (e) => { 
                    e.stopPropagation(); 
                    e.preventDefault();
                    deleteColumn(catName); 
                };
                controls.appendChild(deleteBtn);
            }

            const addBtn = document.createElement('button');
            addBtn.className = 'add-btn';
            addBtn.textContent = '‚ûï';
            addBtn.type = 'button';
            addBtn.onclick = (e) => { 
                e.stopPropagation(); 
                e.preventDefault();
                openAddLinkModal(catName); 
            };
            controls.appendChild(addBtn);

            category.style.position = 'relative';
            category.appendChild(controls);
        }

        // Dropdown functionality
        function setupDropdown(inputId, listId) {
            const input = document.getElementById(inputId);
            const list = document.getElementById(listId);

            if (!input || !list) return;

            input.addEventListener('focus', () => {
                updateDropdownList(inputId, listId);
                list.classList.add('show');
            });

            input.addEventListener('input', () => {
                updateDropdownList(inputId, listId);
                if (input.value.length > 0) {
                    list.classList.add('show');
                }
            });

            input.addEventListener('blur', () => {
                setTimeout(() => list.classList.remove('show'), 150);
            });
        }

        function getAvailableColumns() {
            const columns = [];
            document.querySelectorAll('.category').forEach(cat => {
                const catName = cat.getAttribute('data-category');
                if (catName) columns.push(catName);
            });
            return columns.sort();
        }

        function updateDropdownList(inputId, listId) {
            const input = document.getElementById(inputId);
            const list = document.getElementById(listId);
            if (!input || !list) return;

            const filter = input.value.toUpperCase();
            const columns = getAvailableColumns();

            list.innerHTML = '';

            const filteredColumns = columns.filter(col => 
                col.toUpperCase().includes(filter) || filter === ''
            );

            if (filteredColumns.length === 0) {
                const item = document.createElement('div');
                item.className = 'dropdown-item';
                item.textContent = 'No columns found';
                item.style.color = '#94a3b8';
                item.style.cursor = 'default';
                list.appendChild(item);
                return;
            }

            filteredColumns.forEach(col => {
                const item = document.createElement('div');
                item.className = 'dropdown-item';
                if (input.value.trim() === col) {
                    item.classList.add('selected');
                }
                item.textContent = col;

                item.addEventListener('click', () => {
                    input.value = col;
                    list.classList.remove('show');
                    input.blur();
                });

                list.appendChild(item);
            });
        }

        // Modal Management
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (!modal) return;

            modal.classList.add('show');

            if (modalId === 'addLinkModal') {
                document.getElementById('linkTitle').value = '';
                document.getElementById('linkUrl').value = '';
                if (!document.getElementById('linkColumnSelect').value) {
                    document.getElementById('linkColumnSelect').value = '';
                }
                setTimeout(() => setupDropdown('linkColumnSelect', 'linkColumnList'), 50);
            } else if (modalId === 'addSubheaderModal') {
                document.getElementById('subheaderText').value = '';
                document.getElementById('subheaderColumn').value = '';
                setTimeout(() => setupDropdown('subheaderColumn', 'subheaderColumnList'), 50);
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.remove('show');
        }

        // Close modals on outside click
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal(modal.id);
                }
            });
        });

        function addLinkControls(category) {
            category.querySelectorAll('.link-item').forEach(item => {
                if (item.querySelector('.link-edit-controls')) return;

                const link = item.querySelector('a');
                const controls = document.createElement('div');
                controls.className = 'edit-controls link-edit-controls';

                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn';
                editBtn.textContent = '‚úèÔ∏è';
                editBtn.type = 'button';
                editBtn.onclick = (e) => { 
                    e.stopPropagation(); 
                    e.preventDefault();
                    editLink(link); 
                };
                controls.appendChild(editBtn);

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'üóëÔ∏è';
                deleteBtn.type = 'button';
                deleteBtn.onclick = (e) => { 
                    e.stopPropagation(); 
                    e.preventDefault();
                    deleteLink(item); 
                };
                controls.appendChild(deleteBtn);

                item.classList.add('edit-mode-active');
                item.insertBefore(controls, item.querySelector('.favorite-btn'));
            });
        }

        function addSubheaderControls(category) {
            category.querySelectorAll('.sub-header').forEach(sub => {
                if (sub.parentElement.classList.contains('subheader-item')) return;

                const wrapper = document.createElement('div');
                wrapper.className = 'subheader-item';
                
                const subClone = sub.cloneNode(true);
                const controls = document.createElement('div');
                controls.className = 'subheader-controls';
                
                const editBtn = document.createElement('button');
                editBtn.textContent = '‚úèÔ∏è';
                editBtn.type = 'button';
                editBtn.onclick = (e) => { 
                    e.stopPropagation(); 
                    e.preventDefault();
                    editSubheader(subClone); 
                };
                controls.appendChild(editBtn);

                if (sub.dataset.custom === 'true') {
                    const deleteBtn = document.createElement('button');
                    deleteBtn.textContent = 'üóëÔ∏è';
                    deleteBtn.type = 'button';
                    deleteBtn.onclick = (e) => { 
                        e.stopPropagation(); 
                        e.preventDefault();
                        deleteSubheader(wrapper); 
                    };
                    controls.appendChild(deleteBtn);
                }

                wrapper.appendChild(subClone);
                wrapper.appendChild(controls);
                sub.replaceWith(wrapper);
            });
        }

        // Link Management
        function editLink(link) {
            document.getElementById('editLinkTitle').value = link.textContent;
            document.getElementById('editLinkUrl').value = link.href;
            currentEditLink = link;
            openModal('editLinkModal');
        }

        function confirmEditLink() {
            if (!currentEditLink) return;

            const newTitle = document.getElementById('editLinkTitle').value.trim();
            const newUrl = document.getElementById('editLinkUrl').value.trim();

            if (!newTitle || !newUrl) {
                alert('Please fill all fields');
                return;
            }

            const originalTitle = currentEditLink.dataset.originalTitle || currentEditLink.textContent;
            
            currentEditLink.textContent = newTitle;
            currentEditLink.href = newUrl;
            currentEditLink.dataset.modified = 'true';
            currentEditLink.dataset.originalTitle = originalTitle;
            
            currentEditLink = null;
            closeModal('editLinkModal');
        }

        function deleteLink(item) {
            if (confirm('Delete this link?')) {
                item.remove();
            }
        }

        function addNewColumn() {
            openModal('addColumnModal');
        }

        function addLinkToColumn() {
            openModal('addLinkModal');
        }

        function addNewSubheader() {
            openModal('addSubheaderModal');
        }

        function openAddLinkModal(columnName) {
            document.getElementById('linkColumnSelect').value = columnName;
            openModal('addLinkModal');
        }

        function confirmAddLink() {
            const column = document.getElementById('linkColumnSelect').value.trim();
            const title = document.getElementById('linkTitle').value.trim();
            const url = document.getElementById('linkUrl').value.trim();

            if (!column || !title || !url) {
                alert('Please fill all fields');
                return;
            }

            const categoryExists = document.querySelector(`[data-category="${column}"]`);
            if (!categoryExists) {
                alert('Column does not exist. Please create it first or select from the dropdown.');
                return;
            }

            addCustomLink({ title, url, category: column });
            closeModal('addLinkModal');
            document.getElementById('linkTitle').value = '';
            document.getElementById('linkUrl').value = '';
            document.getElementById('linkColumnSelect').value = '';
        }

        function saveAllEdits() {
            saveCustomData();
            saveFavorites();
            updateCounts();
            alert('‚úÖ All changes saved successfully!');
        }
    </script>
</body>
</html>

